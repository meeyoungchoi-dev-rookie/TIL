# PG (Payment Gateway)

- 전자결제를 대행하는 업체
- 인터넷 쇼핑몰에서 상품 및 서비스를 구매하는 고객들의 결제를 중계하는 서비스
- 간편결제 서비스 등 카드와 관련된 온라인 서비스 요구사항을 처리하는 것

## 왜 PG가 필요한가? 무슨 일을 하는가?

- oo카드 , ㅁㅁ카드,.. 등등 카드 선택 페이지를 만든다
- 카드선택시 VAN에서 요구하는 파라미터들과 함께 팝업으로 VAN을 호출한다
- VAN은 VAN페이지에서 카드사 페이지로 포워딩해준다
- 카드사 페이지에서 카드번호 입력 하면 카드사에서 인증이 완료되면 완료되었다는 키값을 돌려준다
- 키값을 사용해서 VAN에 승인 요청 진행
    - 이때 TCP 전문으로 통신한다
- 승인 완료되면 사용자 입장에서는 결제 완료
- PG는 승인 데이터를 잘 모아두었다가 VAN에 매입을 요청해야 한다
    - 실제 카드사 로부터 돈을 받을 수 있기 때문
- 정산 과정

# VAN (Value Added Network)

- 회선을 소유하는 사업자로부터 통신회선을 빌려 독자적인 통신망을 구성하여 어떤 가치를 부가한 통신망
- 네트워크를 구축한 후 이 통신망 사용을 제3자에게 판매하는 네트워크
- 예) kcp , ksnet , nice , lguplus

## VAN은 무슨 일을 하나? 왜 필요한가?

- 카드사에 승인 요청을 하려면 각 카드사와 연결된 전용선을 사용해야 한다
- VAN은 각 카드사와 전용선으로 연결되어 있고 , 이 통신망을 사용할 수 있도록 중계해준다
- 왜?
- 카드사와 전용선을 직접 다 개통하는 수고스러움을 대신해주기 위함

참고 - [PG / VAN 이란? (umbum.dev)](https://umbum.dev/990)